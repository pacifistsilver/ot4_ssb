title Process Interactions for Dose-Response Protocol Generation
autonumber
actor "Lab User" as User
participant "Interface (GUI)" as GUI
database "FileSystem" as FS
participant "Opentrons Script \n(Protocol)" as OT1

User -> GUI: Launch Application
activate GUI
GUI -> GUI: set_defaults()
GUI --> User: Display Form
deactivate GUI

User -> GUI: Input Parameters\n(Stock Name, Conc, Targets, etc.)
User -> GUI: Click "Calculate"
activate GUI
GUI -> GUI: calculate_and_populate()
GUI --> User: Update/Show Table Preview
deactivate GUI

User -> GUI: Click "Generate JSON"
activate GUI
GUI -> GUI: generate_json()
GUI -> FS: Write "config.json"
activate FS
FS --> GUI: Success
deactivate FS
GUI --> User: Show Success Message
deactivate GUI

group Opentron Script: Dilutions and Dose-Response Commands
    OT1 -> FS: Read "config.json"
    activate FS
    FS --> OT1: Return JSON Object
    deactivate FS
    OT1 -> OT1: Parse Protocol Arguments
    OT1 -> OT1: Execute Dilution Commands
    OT1 -> OT1: Execute Dosing/Transfer Commands
end